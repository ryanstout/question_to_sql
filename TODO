# What do we need to run a query on the shopify?

Goal: EOD Monday

- [x] Test schema
      [x] Filter airbyte stuff using hacky script
- [x] Real shopify data
  - [x] Pull from fivetran
- [x] Python Indexing Script
  - [x] [mbianco] Snowflake connection
  - [x] [mbianco] Finalize prisma models
  - [x] [ryan] Table indexing
- [x] [mbianco] Python Query
  - [x] Endpoint for accepting natural language query
  - [x] Integration with TS side

# What do we need to iterate on the ranking?

Goal: EOD Tuesday

- [ ] [ryan] Live Integration Tests
  - [ ] Manually run script
  - [ ] Agnostic to result data
- [x] [ryan] Python Indexing Script
  - [x] Question > Ranking data structure
- [x] [mbianco] Python Query Improvements
  - [x] Input ranked dict, iteratively compute the output schema
  - [x] Maybe SQL transforms from OpenAI

# What do we need so daniel can run a query?

What questions are we trying to answer?

1. Is the user able to answer questions?
2. Is the ML model failing?
3. Look & feel

- [ ] UI integration
  - [ ] Question record creation
- [ ] [kai] User login tied to data source
- [ ] [kai] MVP UI
  - [ ] Login page [mbianco]
  - [ ] Search box [mbianco]
  - [ ] Forced feedback state (complete/incomplete) [mbianco]
  - [ ] Read-only SQL editor [mbianco]
  - [ ] Basic JSON result [mbianco]
- [ ] [mbianco] Deploy
  - [ ] Docker Build
  - [ ] File system access
  - [ ] Postgres
  - [ ] TBD embedding, if openai embeddings aren't good enough

# How to train the system?

- [ ] UI improvements
  - [ ] R+W SQL Editor [ryan]
  - [ ] Visualize answers
  - [ ] Look at history
  - [ ] Fancy URL structure .com/USER/12345-mike-wants-money
  - [ ] Group question

# What do we need so daniel & spectora can run a query?

- [ ] Snowflake connection for Spectora
  - [ ] Run import script and fix new bugs

# What do we need to improve the query creator?

- [ ] Logging
- Dynamic test schema generation with column hints
- Training data for fine tuning & one-shot learning
- Maybe vector search for column names?

# What do we need to improve the query run experience?

- Feedback pipeline, force people to choose
- Sharable URLs

# Assorted Todos/Improvements

- [ ] Columns with the name "DEFAULT" or "VALUES" (and maybe other sql keywords don't seem to work with snowflake)
- [ ] Test adding column name in front of value for more context in embedding
- [ ] Look at primary key index annotations in schema
- [ ] Question model needs a dataSourceId
- [ ] Add versioning to EmbedLink, symlink swap links to Faiss files

# SQL snowflowflakification

- [ ] Convert Numeric type (postgres) to Number (snowflake)
